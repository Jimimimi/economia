{
  "start_conditions":{
    "agents":{
      "farmer":3,
      "miner":3,
      "woodcutter":3,
      "refiner":3,
      "blacksmith":3
    }   
  },
  "commodities":[
    {
      "name":"food",
      "size": 1
    },
    {
      "name":"wood",
      "size": 1
    },
    { 
      "name":"ore",
      "size": 1
    },
    {
      "name":"metal",
      "size": 1
    },
    {
      "name":"tools",
      "size": 1
    }
  ],
  "roles":[
    {
      "id":"farmer",
      "money":100,
      "inventory":{
        "start":{"food":1,"tools":0,"wood":0,"ore":0,"metal":0,"tools":1},
        "ideal":{"food":0,"tools":2,"wood":3},
        "max_size":10
      },
      "logic":{
        "condition":["has"],
        "param":["wood","tools"],
        "if_true":{
          "action":[
            {"produce":["food"],"amount":[4]},
            {"consume":["wood","tools"],"amount":[1,1],"chance":[1,0.1]}
          ]
        },
        "if_false":{
          "condition":["has","!has"],
          "param":[["wood"],["tools"]],
          "if_true":{
            "action":[
              {"produce":["food"],"amount":[2]},
              {"consume":["wood"],"amount":[1]}
            ]
          },
          "if_false":{
            "action":[
              {"consume":["money"],"amount":[2]}
            ]
          }
        }
      }
    },
    {
      "id":"miner",
      "money":100,            
      "inventory":{
        "start":{"food":1,"tools":0,"ore":0},
        "ideal":{"food":3,"tools":2},
        "max_size":10
      },
      "logic":{
        "condition":["has"],
        "param":["food","tools"],
        "if_true":{
          "action":[
            {"produce":["ore"],"amount":[4]},
            {"consume":["food","tools"],"amount":[1,1],"chance":[1,0.1]}
          ]
        },
        "if_false":{
          "condition":["has","!has"],
          "param":[["food"],["tools"]],
          "if_true":{
            "action":[
              {"produce":["ore"],"amount":[2]},
              {"consume":["food"],"amount":[1]}
            ]
          },
          "if_false":{
            "action":[
              {"consume":["money"],"amount":[2]}
            ]
          }
        }
      
      }
    },
    {
      "id":"refiner",
      "money":100,            
      "inventory":{
        "start":{"food":1,"tools":0,"metal":0,"ore":0},
        "ideal":{"food":3,"tools":2,"ore":5},
        "max_size":10
      },
      "logic":{
        "condition":["has"],
        "param":["food","tools"],
        "if_true":{
          "action":[
            {"transform":["ore"],"into":["metal"],"amount":[5],"efficiency":[0.8]},
            {"consume":["food","tools"],"amount":[1,1],"chance":[1,0.1]}
          ]
        },
        "if_false":{
          "condition":["has","!has"],
          "param":[["food"],["tools"]],
          "if_true":{
            "action":[
              {"transform":["ore"],"into":["metal"],"amount":[2]},
              {"consume":["food"],"amount":[1]}
            ]
          },
          "if_false":{
            "action":[
              {"consume":["money"],"amount":[2]}
            ]
          }
        }
        
      }
    },
    {
      "id":"woodcutter",
      "money":100,      
      "inventory":{
        "start":{"food":1,"tools":0,"wood":0},
        "ideal":{"food":3,"tools":2,"wood":0},
        "max_size":10
      },
      "logic":{
        "condition":["has"],
        "param":["food","tools"],
        "if_true":{
          "action":[
            {"produce":["wood"],"amount":[2]},
            {"consume":["food","tools"],"amount":[1,1],"chance":[1,0.1]}
          ]
        },
        "if_false":{
          "condition":["has","!has"],
          "param":[["food"],["tools"]],
          "if_true":{
            "action":[
              {"produce":["wood"],"amount":[1]},
              {"consume":["food"],"amount":[1]}
            ]
          },
          "if_false":{
            "action":[
              {"consume":["money"],"amount":[2]}
            ]
          }
        }
      
      }
    },
    {
      "id":"blacksmith",
      "money":100,    
      "inventory":{
        "start":{"food":1,"tools":0,"metal":0,"ore":0},
        "ideal":{"food":3,"tools":2,"metal":5},
        "max_size":10
      },
      "logic":{
        "condition":["has"],
        "param":["food"],
        "if_true":{
          "action":[
            {"transform":["metal"],"into":["tools"],"amount":[5],"efficiency":[1]},
            {"consume":["food","tools"],"amount":[1,1],"chance":[1,0.1]}
          ]
        },
        "if_false":{
          "action":[
            {"consume":["money"],"amount":[2]}
          ]
        }
      
      }
    }
  ]
}